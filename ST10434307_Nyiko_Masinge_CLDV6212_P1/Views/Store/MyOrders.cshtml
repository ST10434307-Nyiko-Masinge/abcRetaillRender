@model List<ST10434307_Nyiko_Masinge_CLDV6212_P1.Models.Order>
@{
    ViewData["Title"] = "My Orders";
    Layout = "_StoreLayout";
}

<div class="container mt-5">
    <h2><i class="fas fa-shopping-bag"></i> My Orders</h2>

    @if (Model != null && Model.Any())
    {
        <div class="orders-list">
            @foreach (var order in Model)
            {
                <div class="order-card">
                    <div class="row">
                        <div class="col-md-8">
                            <h5>Order #@order.RowKey</h5>
                            <p class="text-muted">Placed on @order.OrderDate.ToString("f")</p>
                            <p><strong>Total:</strong> R @order.TotalAmount.ToString("F2")</p>
                        </div>
                        <div class="col-md-4 text-end">
                            <span class="badge bg-@(order.Status == "Pending" ? "warning" : order.Status == "Shipped" ? "info" : order.Status == "Delivered" ? "success" : "secondary")">
                                @order.Status
                            </span>
                            <div class="mt-2">
                                <a asp-action="OrderDetails" asp-route-id="@order.RowKey" class="btn btn-sm btn-outline-primary">
                                    View Details
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <div class="empty-orders">
            <i class="fas fa-box-open fa-5x"></i>
            <h3>No orders yet</h3>
            <p>Start shopping to see your orders here!</p>
            <a asp-action="Index" class="btn btn-primary">Browse Products</a>
        </div>
    }
</div>

